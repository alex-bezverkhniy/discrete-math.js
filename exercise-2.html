<html>
<head>
    <script src="js/jquery-1.9.0.js" ></script>
    <script src="js/painter.js" ></script>
    <script src="js/prima.js" ></script>
    <script>
$(document).ready(function () {
    var c = $('#myCanvas').get(0);
    var ctx = c.getContext("2d");
    var fromCityList =  $('#fromCityList');
    var toCityList =  $('#toCityList');

    var prima = new Prima(ctx);

    prima.model['A'] = {'A':{weight:0,   x:300, y:100},'D':{weight:142, x:300, y:400},'E':{weight:107, x:200 ,y:300},'F':{weight:81,  x:200, y:200}};
    prima.model['B'] = {'B':{weight:0,   x:400, y:200},'C':{weight:132, x:400, y:300},'D':{weight:42,  x:300, y:400},'E':{weight:157, x:200 ,y:300},'F':{weight:45,  x:200, y:200},'G':{weight:30,   x:400, y:100}};
    prima.model['C'] = {'B':{weight:132, x:400, y:200},'C':{weight:0,   x:400, y:300},'D':{weight:108, x:300, y:400},'E':{weight:66,  x:200 ,y:300},'F':{weight:105, x:200, y:200},'G':{weight:50,   x:400, y:100}};
    prima.model['D'] = {'A':{weight:142, x:300, y:100},'B':{weight:42,  x:400, y:200},'C':{weight:108, x:400, y:300},'D':{weight:0,   x:300, y:400},'E':{weight:168, x:200 ,y:300},'F':{weight:61,  x:200, y:200},'G':{weight:60,   x:400, y:100}};
    prima.model['E'] = {'A':{weight:107, x:300, y:100},'B':{weight:157, x:400, y:200},'C':{weight:66,  x:400, y:300},'D':{weight:168, x:300, y:400},'E':{weight:0,   x:200 ,y:300},'F':{weight:112, x:200, y:200},'G':{weight:70,   x:400, y:100}};
    prima.model['F'] = {'A':{weight:81,  x:300, y:100},'B':{weight:45,  x:400, y:200},'C':{weight:105, x:400, y:300},'D':{weight:61,  x:300, y:400},'E':{weight:112, x:200 ,y:300},'F':{weight:0,   x:200, y:200},'G':{weight:80,   x:400, y:100}};
    prima.model['G'] = {'B':{weight:45,  x:400, y:200},'C':{weight:105, x:400, y:300},'D':{weight:61,  x:300, y:400},'E':{weight:112, x:200 ,y:300},'F':{weight:0,   x:200, y:200},'G':{weight:100,   x:400, y:100}};

    for(k in prima.model) {
        fromCityList
            .append($("<option></option>")
            .attr("value",k)
            .text(k));
        toCityList
            .append($("<option></option>")
            .attr("value",k)
            .text(k));
    }

    fromCityList.change(function(){
        c.width = c.width;
        prima.painter.color = '#f0f0f0';
        prima.painter.fillColor = '#000';
        prima.showGraph();
        prima.painter.fillColor = '#f00';
        prima.painter.color = '#ff0000';
        if(fromCityList.val() && toCityList.val()) {
            prima.showPathByCities(fromCityList.val(), toCityList.val(), new Array());

            prima.painter.drawText(50,50, 'pathWeight: ' + prima.pathWeight);
            console.log('pathWeight: ' + prima.pathWeight);
        }
    });

    toCityList.change(function(){
        c.width = c.width;
        prima.painter.color = '#f0f0f0';
        prima.painter.fillColor = '#000';
        prima.showGraph();
        prima.painter.fillColor = '#f00';
        prima.painter.color = '#ff0000';
        if(fromCityList.val() && toCityList.val()) {
            prima.showPathByCities(fromCityList.val(), toCityList.val(), new Array());

            prima.painter.drawText(50,50, 'pathWeight: ' + prima.pathWeight);
            console.log('pathWeight: ' + prima.pathWeight);
        }
    });

});
        </script>
</head>
<body style="font: 12px Arial;">
<h3>Finds short path between two cities</h3>
    <label for="fromCityList">From city: </label>
    <select id="fromCityList">
        <option value=""> - </option>
    </select></br>
    <label for="toCityList">To city: </label>
    <select id="toCityList">
        <option value=""> - </option>
    </select></br>
    <canvas id="myCanvas" width="800" height="600" style="border: 1px solid #000;">
    </canvas>
</body>
</html>